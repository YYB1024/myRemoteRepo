<mxfile host="app.diagrams.net" modified="2022-05-18T13:05:03.215Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36" etag="9H1ROvnOu6iwrjteFNEe" version="18.0.7" type="github">
  <diagram id="KAGCioQWqWzpXH6GW-4u" name="第 1 页">
    <mxGraphModel dx="1886" dy="850" grid="1" gridSize="6" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="dWjZnnxNej27H9L7fvb9-4" value="" style="html=1;verticalAlign=bottom;startArrow=circle;startFill=1;endArrow=open;startSize=6;endSize=8;rounded=0;strokeColor=#3399FF;" parent="1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="54" y="66" as="sourcePoint" />
            <mxPoint x="134" y="66" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-5" value="申报类" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="144" y="54" width="54" height="24" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-6" value="" style="html=1;verticalAlign=bottom;startArrow=circle;startFill=1;endArrow=open;startSize=6;endSize=8;rounded=0;strokeColor=#FF3333;" parent="1" edge="1">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="54" y="108" as="sourcePoint" />
            <mxPoint x="134" y="108" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-7" value="查询类" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="144" y="96" width="54" height="24" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="dWjZnnxNej27H9L7fvb9-8" target="dWjZnnxNej27H9L7fvb9-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-8" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;" parent="1" vertex="1">
          <mxGeometry x="90" y="228" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="dWjZnnxNej27H9L7fvb9-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="510" y="258" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-9" value="缴费工资调整（Facade接口）" style="whiteSpace=wrap;html=1;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="258" y="228" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-11" value="发起申报类业务" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="138" y="232" width="102" height="24" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-14" value="Impl&lt;span style=&quot;&quot;&gt;具体实现&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="390" y="232" width="84" height="24" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="dWjZnnxNej27H9L7fvb9-15" target="dWjZnnxNej27H9L7fvb9-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-15" value="1、查询业务关系表" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="510" y="232" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="dWjZnnxNej27H9L7fvb9-16" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="570" y="222" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-16" value="需要在&lt;span style=&quot;background-color: rgb(255, 255, 254); font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;hpc_business_relationship&lt;br&gt;配置父子任务关系表数据&lt;br&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="474" y="42" width="192" height="66" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="dWjZnnxNej27H9L7fvb9-18" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="978" y="262" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-18" value="2、包装业务是否批量、在办理期、是否关闭" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="738" y="232" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="dWjZnnxNej27H9L7fvb9-20" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="795" y="228" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-20" value="需要在&lt;span style=&quot;background-color: rgb(255, 255, 254); font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;hpc_website_business&lt;br&gt;网厅功能表配置&lt;br&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="714" y="42" width="162" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-22" value="查询网厅功能表" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="804" y="148" width="102" height="24" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="dWjZnnxNej27H9L7fvb9-23" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1241" y="156" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-32" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="dWjZnnxNej27H9L7fvb9-23" target="dWjZnnxNej27H9L7fvb9-31" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-23" value="4、插入任务明细记录在明细表中" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1181" y="228" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="dWjZnnxNej27H9L7fvb9-25" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1176" y="258" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="dWjZnnxNej27H9L7fvb9-25" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1038" y="150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-25" value="3、生成主任务记录" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="978" y="228" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-28" value="任务状态为=&amp;gt;处理中：01" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="960" y="120" width="150" height="24" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-30" value="提交状态为：01 ：未提交&lt;br&gt;办理状态为：01 ：待提交" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1157" y="124" width="150" height="36" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-34" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="dWjZnnxNej27H9L7fvb9-31" target="dWjZnnxNej27H9L7fvb9-33" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-37" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="dWjZnnxNej27H9L7fvb9-31" target="dWjZnnxNej27H9L7fvb9-36" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-31" value="任务状态是否为&lt;br&gt;01处理中" style="rhombus;whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1182" y="360" width="117" height="80" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="dWjZnnxNej27H9L7fvb9-33" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="108" y="312" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="dWjZnnxNej27H9L7fvb9-33" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1043.5" y="546" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-33" value="MQ 发消息（提交数据到客户端）" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="983.5" y="370" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-35" value="是" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1121" y="376" width="30" height="24" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-36" value="更新任务为已完成" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="1377.5" y="370" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-38" value="否" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1313" y="370" width="30" height="24" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-40" value="返回 taskNumber" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="452" y="376" width="108" height="24" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-44" value="&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;topic:hspcore-topic-submit-task&lt;br&gt;&lt;br&gt;messge(&lt;span style=&quot;font-size: 12px; background-color: rgb(248, 249, 250);&quot;&gt;taskNumber、consumerId&lt;/span&gt;)&lt;br&gt;&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1050" y="456" width="234" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-47" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;" parent="1" source="dWjZnnxNej27H9L7fvb9-45" target="dWjZnnxNej27H9L7fvb9-46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <UserObject label="MQ 处理消息" tooltip="cn.com.servyou.hspscore.msg.businesstask.consumer.BusinessTaskSubmitConsumer#handleSubmitMessage" id="dWjZnnxNej27H9L7fvb9-45">
          <mxCell style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
            <mxGeometry x="984" y="546" width="120" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="dWjZnnxNej27H9L7fvb9-49" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#FFFFFF;strokeColor=#000000;" parent="1" source="dWjZnnxNej27H9L7fvb9-46" target="dWjZnnxNej27H9L7fvb9-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <UserObject label="1、调用业务任务提交方法" tooltip="cn.com.servyou.hspscore.service.handler.submit.BusinessTaskSubmitAsyncService#submit" id="dWjZnnxNej27H9L7fvb9-46">
          <mxCell style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
            <mxGeometry x="792" y="546" width="112" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="dWjZnnxNej27H9L7fvb9-51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#FFFFFF;strokeColor=#000000;" parent="1" source="dWjZnnxNej27H9L7fvb9-48" target="dWjZnnxNej27H9L7fvb9-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Zt5XqulkagOn3WWmMyJd-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="dWjZnnxNej27H9L7fvb9-48">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="613" y="510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-48" value="2、根据taskNumber、consumerId查询所有待提交的&lt;b&gt;&lt;font color=&quot;#ff3333&quot;&gt;任务明细&lt;/font&gt;&lt;/b&gt;进行提交" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="546" y="546" width="134" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-53" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#FFFFFF;strokeColor=#000000;" parent="1" source="dWjZnnxNej27H9L7fvb9-50" target="dWjZnnxNej27H9L7fvb9-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Zt5XqulkagOn3WWmMyJd-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#FF3333;" edge="1" parent="1" source="dWjZnnxNej27H9L7fvb9-50">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="399" y="498" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <UserObject label="3、校验任务汇总为处理中、任务明细为未提交" tooltip="cn.com.servyou.hspscore.service.handler.submit.BusinessTaskSubmitAsyncService#checkBusinessTask" id="dWjZnnxNej27H9L7fvb9-50">
          <mxCell style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
            <mxGeometry x="339" y="546" width="120" height="60" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="dWjZnnxNej27H9L7fvb9-55" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#FFFFFF;strokeColor=#000000;" parent="1" source="dWjZnnxNej27H9L7fvb9-52" target="dWjZnnxNej27H9L7fvb9-54" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-52" value="4、分别得到任务汇总信息和任务明细信息" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="139" y="546" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="dWjZnnxNej27H9L7fvb9-54" value="5、将任务明细按异步流水号进行分组" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="139" y="686" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Zt5XqulkagOn3WWmMyJd-1" value="自产自销" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="954" y="474" width="66" height="24" as="geometry" />
        </mxCell>
        <mxCell id="Zt5XqulkagOn3WWmMyJd-4" value="&lt;meta charset=&quot;utf-8&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(248, 249, 250); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;办理状态为：01 ：待提交&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="535" y="480" width="156" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Zt5XqulkagOn3WWmMyJd-8" value="&lt;br&gt;&lt;br&gt;汇总：任务状态为=&amp;gt;处理中：01&lt;br&gt;明细：提交状态为：01 ：未提交&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;办理状态为：01 ：待提交" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="324" y="414" width="186" height="78" as="geometry" />
        </mxCell>
        <mxCell id="Zt5XqulkagOn3WWmMyJd-9" value="校验" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="401" y="508" width="42" height="24" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
